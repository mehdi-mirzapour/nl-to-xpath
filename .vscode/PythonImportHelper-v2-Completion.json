[
    {
        "label": "json",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "json",
        "description": "json",
        "detail": "json",
        "documentation": {}
    },
    {
        "label": "re",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "re",
        "description": "re",
        "detail": "re",
        "documentation": {}
    },
    {
        "label": "Path",
        "importPath": "pathlib",
        "description": "pathlib",
        "isExtraImport": true,
        "detail": "pathlib",
        "documentation": {}
    },
    {
        "label": "Dict",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "Optional",
        "importPath": "typing",
        "description": "typing",
        "isExtraImport": true,
        "detail": "typing",
        "documentation": {}
    },
    {
        "label": "sync_playwright",
        "importPath": "playwright.sync_api",
        "description": "playwright.sync_api",
        "isExtraImport": true,
        "detail": "playwright.sync_api",
        "documentation": {}
    },
    {
        "label": "sync_playwright",
        "importPath": "playwright.sync_api",
        "description": "playwright.sync_api",
        "isExtraImport": true,
        "detail": "playwright.sync_api",
        "documentation": {}
    },
    {
        "label": "process_instruction_with_html",
        "importPath": "llm_xpath",
        "description": "llm_xpath",
        "isExtraImport": true,
        "detail": "llm_xpath",
        "documentation": {}
    },
    {
        "label": "load_dotenv",
        "importPath": "dotenv",
        "description": "dotenv",
        "isExtraImport": true,
        "detail": "dotenv",
        "documentation": {}
    },
    {
        "label": "load_dotenv",
        "importPath": "dotenv",
        "description": "dotenv",
        "isExtraImport": true,
        "detail": "dotenv",
        "documentation": {}
    },
    {
        "label": "load_dotenv",
        "importPath": "dotenv",
        "description": "dotenv",
        "isExtraImport": true,
        "detail": "dotenv",
        "documentation": {}
    },
    {
        "label": "os",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "os",
        "description": "os",
        "detail": "os",
        "documentation": {}
    },
    {
        "label": "ChatMistralAI",
        "importPath": "langchain_mistralai",
        "description": "langchain_mistralai",
        "isExtraImport": true,
        "detail": "langchain_mistralai",
        "documentation": {}
    },
    {
        "label": "ChatMistralAI",
        "importPath": "langchain_mistralai",
        "description": "langchain_mistralai",
        "isExtraImport": true,
        "detail": "langchain_mistralai",
        "documentation": {}
    },
    {
        "label": "MistralAIEmbeddings",
        "importPath": "langchain_mistralai",
        "description": "langchain_mistralai",
        "isExtraImport": true,
        "detail": "langchain_mistralai",
        "documentation": {}
    },
    {
        "label": "PromptTemplate",
        "importPath": "langchain_core.prompts",
        "description": "langchain_core.prompts",
        "isExtraImport": true,
        "detail": "langchain_core.prompts",
        "documentation": {}
    },
    {
        "label": "PromptTemplate",
        "importPath": "langchain_core.prompts",
        "description": "langchain_core.prompts",
        "isExtraImport": true,
        "detail": "langchain_core.prompts",
        "documentation": {}
    },
    {
        "label": "RunnableLambda",
        "importPath": "langchain_core.runnables",
        "description": "langchain_core.runnables",
        "isExtraImport": true,
        "detail": "langchain_core.runnables",
        "documentation": {}
    },
    {
        "label": "RunnableLambda",
        "importPath": "langchain_core.runnables",
        "description": "langchain_core.runnables",
        "isExtraImport": true,
        "detail": "langchain_core.runnables",
        "documentation": {}
    },
    {
        "label": "tiktoken",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "tiktoken",
        "description": "tiktoken",
        "detail": "tiktoken",
        "documentation": {}
    },
    {
        "label": "asyncio",
        "kind": 6,
        "isExtraImport": true,
        "importPath": "asyncio",
        "description": "asyncio",
        "detail": "asyncio",
        "documentation": {}
    },
    {
        "label": "PineconeVectorStore",
        "importPath": "langchain_pinecone",
        "description": "langchain_pinecone",
        "isExtraImport": true,
        "detail": "langchain_pinecone",
        "documentation": {}
    },
    {
        "label": "Pinecone",
        "importPath": "pinecone",
        "description": "pinecone",
        "isExtraImport": true,
        "detail": "pinecone",
        "documentation": {}
    },
    {
        "label": "ServerlessSpec",
        "importPath": "pinecone",
        "description": "pinecone",
        "isExtraImport": true,
        "detail": "pinecone",
        "documentation": {}
    },
    {
        "label": "Document",
        "importPath": "langchain_core.documents",
        "description": "langchain_core.documents",
        "isExtraImport": true,
        "detail": "langchain_core.documents",
        "documentation": {}
    },
    {
        "label": "etree",
        "importPath": "lxml",
        "description": "lxml",
        "isExtraImport": true,
        "detail": "lxml",
        "documentation": {}
    },
    {
        "label": "html",
        "importPath": "lxml",
        "description": "lxml",
        "isExtraImport": true,
        "detail": "lxml",
        "documentation": {}
    },
    {
        "label": "extract_url",
        "kind": 2,
        "importPath": "src.agentic-workflow",
        "description": "src.agentic-workflow",
        "peekOfCode": "def extract_url(text: str) -> Optional[str]:\n    \"\"\"\n    Extract the first URL found in the input text.\n    \"\"\"\n    pattern = r'https?://[^\\s\")]+'\n    match = re.search(pattern, text)\n    return match.group(0) if match else None\ndef main():\n    with INPUT_PATH.open(\"r\") as f:\n        data = json.load(f)",
        "detail": "src.agentic-workflow",
        "documentation": {}
    },
    {
        "label": "main",
        "kind": 2,
        "importPath": "src.agentic-workflow",
        "description": "src.agentic-workflow",
        "peekOfCode": "def main():\n    with INPUT_PATH.open(\"r\") as f:\n        data = json.load(f)\n    with sync_playwright() as p:\n        browser = p.chromium.launch(headless=False)\n        page = browser.new_page()\n        for item in data.get(\"instructions\", []):\n            classification = item.get(\"classification\")\n            instruction_text = item.get(\"original instruction\")\n            waiting_time = item.get(\"waiting_time\")",
        "detail": "src.agentic-workflow",
        "documentation": {}
    },
    {
        "label": "INPUT_PATH",
        "kind": 5,
        "importPath": "src.agentic-workflow",
        "description": "src.agentic-workflow",
        "peekOfCode": "INPUT_PATH = Path(\"resources/docs/classifier.json\")\ndef extract_url(text: str) -> Optional[str]:\n    \"\"\"\n    Extract the first URL found in the input text.\n    \"\"\"\n    pattern = r'https?://[^\\s\")]+'\n    match = re.search(pattern, text)\n    return match.group(0) if match else None\ndef main():\n    with INPUT_PATH.open(\"r\") as f:",
        "detail": "src.agentic-workflow",
        "documentation": {}
    },
    {
        "label": "extract_json_from_codeblock",
        "kind": 2,
        "importPath": "src.llm_classifier",
        "description": "src.llm_classifier",
        "peekOfCode": "def extract_json_from_codeblock(output: str) -> str:\n    \"\"\"Remove code block markdown from model output.\"\"\"\n    lines = output.strip().splitlines()\n    if lines[0].strip().startswith(\"```\"):\n        lines = lines[1:]\n    if lines and lines[-1].strip().startswith(\"```\"):\n        lines = lines[:-1]\n    return \"\\n\".join(lines)\ndef process_instruction_with_html(instructions: str) -> str:\n    \"\"\"Run the instruction + HTML through Mistral and return JSON result.\"\"\"",
        "detail": "src.llm_classifier",
        "documentation": {}
    },
    {
        "label": "process_instruction_with_html",
        "kind": 2,
        "importPath": "src.llm_classifier",
        "description": "src.llm_classifier",
        "peekOfCode": "def process_instruction_with_html(instructions: str) -> str:\n    \"\"\"Run the instruction + HTML through Mistral and return JSON result.\"\"\"\n    # Load environment variables\n    load_dotenv()\n    api_key = os.getenv(\"MISTRAL_API_KEY\")\n    if not api_key:\n        raise ValueError(\"MISTRAL_API_KEY not set in environment.\")\n    os.environ[\"MISTRAL_API_KEY\"] = api_key\n    # Prompt template\n    template = \"\"\"",
        "detail": "src.llm_classifier",
        "documentation": {}
    },
    {
        "label": "extract_json_from_codeblock",
        "kind": 2,
        "importPath": "src.llm_xpath",
        "description": "src.llm_xpath",
        "peekOfCode": "def extract_json_from_codeblock(output: str) -> str:\n    \"\"\"Remove code block markdown from model output.\"\"\"\n    lines = output.strip().splitlines()\n    if lines[0].strip().startswith(\"```\"):\n        lines = lines[1:]\n    if lines and lines[-1].strip().startswith(\"```\"):\n        lines = lines[:-1]\n    return \"\\n\".join(lines)\ndef process_instruction_with_html(instruction: str, html: str) -> str:\n    \"\"\"Run the instruction + HTML through Mistral and return JSON result.\"\"\"",
        "detail": "src.llm_xpath",
        "documentation": {}
    },
    {
        "label": "process_instruction_with_html",
        "kind": 2,
        "importPath": "src.llm_xpath",
        "description": "src.llm_xpath",
        "peekOfCode": "def process_instruction_with_html(instruction: str, html: str) -> str:\n    \"\"\"Run the instruction + HTML through Mistral and return JSON result.\"\"\"\n    # Load environment variables\n    load_dotenv()\n    html= html[:80000]\n    api_key = os.getenv(\"MISTRAL_API_KEY\")\n    if not api_key:\n        raise ValueError(\"MISTRAL_API_KEY not set in environment.\")\n    os.environ[\"MISTRAL_API_KEY\"] = api_key\n    # Prompt template",
        "detail": "src.llm_xpath",
        "documentation": {}
    },
    {
        "label": "chunk_raw_html",
        "kind": 2,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "def chunk_raw_html(html_content, max_chunk_size=300):\n    \"\"\"Chunk raw HTML content into documents with metadata.\"\"\"\n    return [\n        Document(\n            page_content=html_content[i:i + max_chunk_size],\n            metadata={\n                'source': 'raw_html',\n                'original_html': html_content,\n                'start_offset': i,\n                'end_offset': min(i + max_chunk_size, len(html_content))",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "mistral_api_key",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "mistral_api_key = os.getenv(\"MISTRAL_API_KEY\")\npinecone_api_key = os.getenv(\"PINECONE_API_KEY\")\nindex_name = os.getenv(\"PINECONE_INDEX_NAME\")\nhf_token = os.getenv(\"HF_TOKEN\")\n# Validate environment variables\nif not pinecone_api_key:\n    raise ValueError(\"PINECONE_API_KEY not set in environment.\")\nif not mistral_api_key:\n    raise ValueError(\"MISTRAL_API_KEY not set in environment.\")\nif not index_name:",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "pinecone_api_key",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "pinecone_api_key = os.getenv(\"PINECONE_API_KEY\")\nindex_name = os.getenv(\"PINECONE_INDEX_NAME\")\nhf_token = os.getenv(\"HF_TOKEN\")\n# Validate environment variables\nif not pinecone_api_key:\n    raise ValueError(\"PINECONE_API_KEY not set in environment.\")\nif not mistral_api_key:\n    raise ValueError(\"MISTRAL_API_KEY not set in environment.\")\nif not index_name:\n    raise ValueError(\"PINECONE_INDEX_NAME not set in environment.\")",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "index_name",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "index_name = os.getenv(\"PINECONE_INDEX_NAME\")\nhf_token = os.getenv(\"HF_TOKEN\")\n# Validate environment variables\nif not pinecone_api_key:\n    raise ValueError(\"PINECONE_API_KEY not set in environment.\")\nif not mistral_api_key:\n    raise ValueError(\"MISTRAL_API_KEY not set in environment.\")\nif not index_name:\n    raise ValueError(\"PINECONE_INDEX_NAME not set in environment.\")\nif not hf_token:",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "hf_token",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "hf_token = os.getenv(\"HF_TOKEN\")\n# Validate environment variables\nif not pinecone_api_key:\n    raise ValueError(\"PINECONE_API_KEY not set in environment.\")\nif not mistral_api_key:\n    raise ValueError(\"MISTRAL_API_KEY not set in environment.\")\nif not index_name:\n    raise ValueError(\"PINECONE_INDEX_NAME not set in environment.\")\nif not hf_token:\n    print(\"Warning: HF_TOKEN not set. Set it to avoid dummy tokenizer.\")",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "pc",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "pc = Pinecone(api_key=pinecone_api_key)\n# Create or connect to a Pinecone serverless index\nif index_name not in pc.list_indexes().names():\n    pc.create_index(\n        name=index_name,\n        dimension=1024,  # Mistral-embed model output dimension\n        metric=\"cosine\",\n        spec=ServerlessSpec(cloud=\"aws\", region=\"us-east-1\")\n    )\n# Initialize Mistral embeddings and Pinecone vector store",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "embeddings",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "embeddings = MistralAIEmbeddings(model=\"mistral-embed\", api_key=mistral_api_key)\nvector_store = PineconeVectorStore(index_name=index_name, embedding=embeddings)\ndef chunk_raw_html(html_content, max_chunk_size=300):\n    \"\"\"Chunk raw HTML content into documents with metadata.\"\"\"\n    return [\n        Document(\n            page_content=html_content[i:i + max_chunk_size],\n            metadata={\n                'source': 'raw_html',\n                'original_html': html_content,",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "vector_store",
        "kind": 5,
        "importPath": "src.rag_html_mistral_pinecone",
        "description": "src.rag_html_mistral_pinecone",
        "peekOfCode": "vector_store = PineconeVectorStore(index_name=index_name, embedding=embeddings)\ndef chunk_raw_html(html_content, max_chunk_size=300):\n    \"\"\"Chunk raw HTML content into documents with metadata.\"\"\"\n    return [\n        Document(\n            page_content=html_content[i:i + max_chunk_size],\n            metadata={\n                'source': 'raw_html',\n                'original_html': html_content,\n                'start_offset': i,",
        "detail": "src.rag_html_mistral_pinecone",
        "documentation": {}
    },
    {
        "label": "describe_element",
        "kind": 2,
        "importPath": "test.test_nl_to_xpath",
        "description": "test.test_nl_to_xpath",
        "peekOfCode": "def describe_element(elem):\n    tag = elem.tag\n    text = (elem.text or \"\").strip()\n    attrib = {k: v for k, v in elem.attrib.items()}\n    return f\"<{tag} {attrib}> text='{text}'\"\nfor entry in instructions:\n    nl = entry[\"nl\"]\n    xpath = entry[\"xpath\"]\n    elements = dom.xpath(xpath)\n    print(f\"Instruction: {nl}\")",
        "detail": "test.test_nl_to_xpath",
        "documentation": {}
    },
    {
        "label": "instructions",
        "kind": 5,
        "importPath": "test.test_nl_to_xpath",
        "description": "test.test_nl_to_xpath",
        "peekOfCode": "instructions = [\n    {\n        \"nl\": \"Click on 'about us'\",\n        \"xpath\": \"//a[normalize-space(text())='About Us']\"\n    },\n    {\n        \"nl\": \"Hover over 'ok' under 'Employee' section\",\n        \"xpath\": (\n            \"//section[@id='employee-section']\"\n            \"//div[contains(@class, 'employee')]\"",
        "detail": "test.test_nl_to_xpath",
        "documentation": {}
    },
    {
        "label": "html_file_path",
        "kind": 5,
        "importPath": "test.test_nl_to_xpath",
        "description": "test.test_nl_to_xpath",
        "peekOfCode": "html_file_path = \"resources/test_case_1.html\"\n# Read HTML from file\nwith open(html_file_path, 'r', encoding='utf-8') as f:\n    html_content = f.read()\n# Parse the HTML string into an lxml etree object\ndom = etree.HTML(html_content)\ndef describe_element(elem):\n    tag = elem.tag\n    text = (elem.text or \"\").strip()\n    attrib = {k: v for k, v in elem.attrib.items()}",
        "detail": "test.test_nl_to_xpath",
        "documentation": {}
    },
    {
        "label": "dom",
        "kind": 5,
        "importPath": "test.test_nl_to_xpath",
        "description": "test.test_nl_to_xpath",
        "peekOfCode": "dom = etree.HTML(html_content)\ndef describe_element(elem):\n    tag = elem.tag\n    text = (elem.text or \"\").strip()\n    attrib = {k: v for k, v in elem.attrib.items()}\n    return f\"<{tag} {attrib}> text='{text}'\"\nfor entry in instructions:\n    nl = entry[\"nl\"]\n    xpath = entry[\"xpath\"]\n    elements = dom.xpath(xpath)",
        "detail": "test.test_nl_to_xpath",
        "documentation": {}
    },
    {
        "label": "tree",
        "kind": 5,
        "importPath": "test.test_xpath",
        "description": "test.test_xpath",
        "peekOfCode": "tree = html.fromstring(content)\n# Define XPath expressions to test\nxpaths = {\n    \"All links\": \"//a\",\n    \"About Us link by text\": \"//a[text()='About Us']\",\n    \"About Us link by href\": \"//a[@href='/about-us']\",\n    \"All buttons\": \"//button\",\n    \"Visible OK buttons\": \"//button[text()='OK' and not(contains(@style, 'display: none'))]\",\n    \"Hidden button\": \"//button[contains(@style, 'display: none')]\",\n    \"Country dropdown\": \"//select[@id='country-select']\",",
        "detail": "test.test_xpath",
        "documentation": {}
    },
    {
        "label": "xpaths",
        "kind": 5,
        "importPath": "test.test_xpath",
        "description": "test.test_xpath",
        "peekOfCode": "xpaths = {\n    \"All links\": \"//a\",\n    \"About Us link by text\": \"//a[text()='About Us']\",\n    \"About Us link by href\": \"//a[@href='/about-us']\",\n    \"All buttons\": \"//button\",\n    \"Visible OK buttons\": \"//button[text()='OK' and not(contains(@style, 'display: none'))]\",\n    \"Hidden button\": \"//button[contains(@style, 'display: none')]\",\n    \"Country dropdown\": \"//select[@id='country-select']\",\n    \"Employee section header\": \"//section[@id='employee-section']/h2\",\n    \"Option with value='canada'\": \"//option[@value='canada']\",",
        "detail": "test.test_xpath",
        "documentation": {}
    }
]